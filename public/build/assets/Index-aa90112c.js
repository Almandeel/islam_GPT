import{B as de,C as pe,E as fe,F as he,K as me,R as ge,S as ve,a as ye,T as be,b as we,c as xe,d as Se,V as Re,e as _e,f as Te,g as Ae,h as Ce,i as Ee,j as Me,k as ke,l as Oe,m as Be,n as je,o as ce,p as I,q as Pe,r as ze,s as Fe,t as Ue,u as Ve,v as De,w as Ne,x as ee,y as Ie,z as Le,A as He,D as Ye,G as We,H as Ge,I as $e,J as qe,L as Ke,M as Ze,N as Xe,O as Je,P as Qe,Q as et,U as tt,W as ot,X as nt,Y as rt,Z as st,_ as it,$ as at,a0 as ct,a1 as ut,a2 as lt,a3 as dt,a4 as pt,a5 as ft,a6 as ht,a7 as mt,a8 as gt,a9 as vt,aa as yt,ab as bt,ac as wt,ad as xt,ae as St,af as Rt,ag as _t,ah as Tt,ai as At,aj as Ct,ak as Et,al as Mt,am as kt,an as Ot,ao as Bt,ap as jt,aq as Pt,ar as zt,as as ue,at as Ft,au as Ut,av as Vt,aw as Dt,ax as Nt,ay as It,az as Lt,aA as Ht,aB as Yt,aC as Wt,aD as Gt,aE as $t,aF as te,aG as qt,aH as Kt,aI as Zt,aJ as Xt,aK as Jt,aL as Qt,aM as eo,aN as to,aO as oo,aP as no,aQ as ro,aR as so,aS as io,aT as le,aU as ao,aV as co,aW as uo,aX as lo,aY as po,aZ as fo,a_ as ho,a$ as mo,b0 as go,b1 as vo,b2 as yo,b3 as bo,b4 as wo,b5 as xo,b6 as So,b7 as Ro,b8 as _o,b9 as To,ba as Ao,bb as oe,bc as Co,bd as Eo,be as Mo,bf as ko,bg as Oo,bh as Bo,bi as jo,bj as Po,bk as zo,bl as ne,bm as Fo,bn as Uo,bo as Vo,bp as Do,bq as No,br as Io,bs as Lo,bt as Ho}from"./app-d96f48c2.js";import"./app-4ed993c7.js";const Yo=()=>{},Wo=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:de,Comment:pe,EffectScope:fe,Fragment:he,KeepAlive:me,ReactiveEffect:ge,Static:ve,Suspense:ye,Teleport:be,Text:we,Transition:xe,TransitionGroup:Se,VueElement:Re,callWithAsyncErrorHandling:_e,callWithErrorHandling:Te,camelize:Ae,capitalize:Ce,cloneVNode:Ee,compatUtils:Me,compile:Yo,computed:ke,createApp:Oe,createBlock:Be,createCommentVNode:je,createElementBlock:ce,createElementVNode:I,createHydrationRenderer:Pe,createPropsRestProxy:ze,createRenderer:Fe,createSSRApp:Ue,createSlots:Ve,createStaticVNode:De,createTextVNode:Ne,createVNode:ee,customRef:Ie,defineAsyncComponent:Le,defineComponent:He,defineCustomElement:Ye,defineEmits:We,defineExpose:Ge,defineProps:$e,defineSSRCustomElement:qe,get devtools(){return Ke},effect:Ze,effectScope:Xe,getCurrentInstance:Je,getCurrentScope:Qe,getTransitionRawChildren:et,guardReactiveProps:tt,h:ot,handleError:nt,hydrate:rt,initCustomFormatter:st,initDirectivesForSSR:it,inject:at,isMemoSame:ct,isProxy:ut,isReactive:lt,isReadonly:dt,isRef:pt,isRuntimeOnly:ft,isShallow:ht,isVNode:mt,markRaw:gt,mergeDefaults:vt,mergeProps:yt,nextTick:bt,normalizeClass:wt,normalizeProps:xt,normalizeStyle:St,onActivated:Rt,onBeforeMount:_t,onBeforeUnmount:Tt,onBeforeUpdate:At,onDeactivated:Ct,onErrorCaptured:Et,onMounted:Mt,onRenderTracked:kt,onRenderTriggered:Ot,onScopeDispose:Bt,onServerPrefetch:jt,onUnmounted:Pt,onUpdated:zt,openBlock:ue,popScopeId:Ft,provide:Ut,proxyRefs:Vt,pushScopeId:Dt,queuePostFlushCb:Nt,reactive:It,readonly:Lt,ref:Ht,registerRuntimeCompiler:Yt,render:Wt,renderList:Gt,renderSlot:$t,resolveComponent:te,resolveDirective:qt,resolveDynamicComponent:Kt,resolveFilter:Zt,resolveTransitionHooks:Xt,setBlockTracking:Jt,setDevtoolsHook:Qt,setTransitionHooks:eo,shallowReactive:to,shallowReadonly:oo,shallowRef:no,ssrContextKey:ro,ssrUtils:so,stop:io,toDisplayString:le,toHandlerKey:ao,toHandlers:co,toRaw:uo,toRef:lo,toRefs:po,transformVNodeArgs:fo,triggerRef:ho,unref:mo,useAttrs:go,useCssModule:vo,useCssVars:yo,useSSRContext:bo,useSlots:wo,useTransitionState:xo,vModelCheckbox:So,vModelDynamic:Ro,vModelRadio:_o,vModelSelect:To,vModelText:Ao,vShow:oe,version:Co,warn:Eo,watch:Mo,watchEffect:ko,watchPostEffect:Oo,watchSyncEffect:Bo,withAsyncContext:jo,withCtx:Po,withDefaults:zo,withDirectives:ne,withKeys:Fo,withMemo:Uo,withModifiers:Vo,withScopeId:Do},Symbol.toStringTag,{value:"Module"}));var re={},Go={get exports(){return re},set exports(U){re=U}};const $o=No(Wo);(function(U,L){(function(J,K){U.exports=K($o)})(typeof self<"u"?self:Io,function(J){return function(){var K={9662:function(o,i,e){var t=e(7854),n=e(614),r=e(6330),s=t.TypeError;o.exports=function(a){if(n(a))return a;throw s(r(a)+" is not a function")}},6077:function(o,i,e){var t=e(7854),n=e(614),r=t.String,s=t.TypeError;o.exports=function(a){if(typeof a=="object"||n(a))return a;throw s("Can't set "+r(a)+" as a prototype")}},9670:function(o,i,e){var t=e(7854),n=e(111),r=t.String,s=t.TypeError;o.exports=function(a){if(n(a))return a;throw s(r(a)+" is not an object")}},4019:function(o){o.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},260:function(o,i,e){var t,n,r,s=e(4019),a=e(9781),c=e(7854),l=e(614),d=e(111),f=e(2597),h=e(648),m=e(6330),g=e(8880),x=e(1320),_=e(3070).f,T=e(7976),E=e(9518),B=e(7674),k=e(5112),N=e(9711),C=c.Int8Array,V=C&&C.prototype,F=c.Uint8ClampedArray,b=F&&F.prototype,R=C&&E(C),M=V&&E(V),se=Object.prototype,Y=c.TypeError,W=k("toStringTag"),G=N("TYPED_ARRAY_TAG"),$=N("TYPED_ARRAY_CONSTRUCTOR"),j=s&&!!B&&h(c.opera)!=="Opera",Z=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},q={BigInt64Array:8,BigUint64Array:8},ie=function(p){if(!d(p))return!1;var v=h(p);return v==="DataView"||f(P,v)||f(q,v)},X=function(p){if(!d(p))return!1;var v=h(p);return f(P,v)||f(q,v)},Q=function(p){if(X(p))return p;throw Y("Target is not a typed array")},y=function(p){if(l(p)&&(!B||T(R,p)))return p;throw Y(m(p)+" is not a typed array constructor")},u=function(p,v,S){if(a){if(S)for(var z in P){var O=c[z];if(O&&f(O.prototype,p))try{delete O.prototype[p]}catch{}}M[p]&&!S||x(M,p,S?v:j&&V[p]||v)}},w=function(p,v,S){var z,O;if(a){if(B){if(S){for(z in P)if(O=c[z],O&&f(O,p))try{delete O[p]}catch{}}if(R[p]&&!S)return;try{return x(R,p,S?v:j&&R[p]||v)}catch{}}for(z in P)O=c[z],!O||O[p]&&!S||x(O,p,v)}};for(t in P)n=c[t],r=n&&n.prototype,r?g(r,$,n):j=!1;for(t in q)n=c[t],r=n&&n.prototype,r&&g(r,$,n);if((!j||!l(R)||R===Function.prototype)&&(R=function(){throw Y("Incorrect invocation")},j))for(t in P)c[t]&&B(c[t],R);if((!j||!M||M===se)&&(M=R.prototype,j))for(t in P)c[t]&&B(c[t].prototype,M);if(j&&E(b)!==M&&B(b,M),a&&!f(M,W))for(t in Z=!0,_(M,W,{get:function(){return d(this)?this[G]:void 0}}),P)c[t]&&g(c[t],G,t);o.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_CONSTRUCTOR:$,TYPED_ARRAY_TAG:Z&&G,aTypedArray:Q,aTypedArrayConstructor:y,exportTypedArrayMethod:u,exportTypedArrayStaticMethod:w,isView:ie,isTypedArray:X,TypedArray:R,TypedArrayPrototype:M}},9671:function(o,i,e){var t=e(9974),n=e(8361),r=e(7908),s=e(6244),a=function(c){var l=c==1;return function(d,f,h){for(var m,g,x=r(d),_=n(x),T=t(f,h),E=s(_);E-- >0;)if(m=_[E],g=T(m,E,x),g)switch(c){case 0:return m;case 1:return E}return l?-1:void 0}};o.exports={findLast:a(0),findLastIndex:a(1)}},4326:function(o,i,e){var t=e(1702),n=t({}.toString),r=t("".slice);o.exports=function(s){return r(n(s),8,-1)}},648:function(o,i,e){var t=e(7854),n=e(1694),r=e(614),s=e(4326),a=e(5112),c=a("toStringTag"),l=t.Object,d=s(function(){return arguments}())=="Arguments",f=function(h,m){try{return h[m]}catch{}};o.exports=n?s:function(h){var m,g,x;return h===void 0?"Undefined":h===null?"Null":typeof(g=f(m=l(h),c))=="string"?g:d?s(m):(x=s(m))=="Object"&&r(m.callee)?"Arguments":x}},9920:function(o,i,e){var t=e(7293);o.exports=!t(function(){function n(){}return n.prototype.constructor=null,Object.getPrototypeOf(new n)!==n.prototype})},8880:function(o,i,e){var t=e(9781),n=e(3070),r=e(9114);o.exports=t?function(s,a,c){return n.f(s,a,r(1,c))}:function(s,a,c){return s[a]=c,s}},9114:function(o){o.exports=function(i,e){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:e}}},9781:function(o,i,e){var t=e(7293);o.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},317:function(o,i,e){var t=e(7854),n=e(111),r=t.document,s=n(r)&&n(r.createElement);o.exports=function(a){return s?r.createElement(a):{}}},8113:function(o,i,e){var t=e(5005);o.exports=t("navigator","userAgent")||""},7392:function(o,i,e){var t,n,r=e(7854),s=e(8113),a=r.process,c=r.Deno,l=a&&a.versions||c&&c.version,d=l&&l.v8;d&&(t=d.split("."),n=t[0]>0&&t[0]<4?1:+(t[0]+t[1])),!n&&s&&(t=s.match(/Edge\/(\d+)/),(!t||t[1]>=74)&&(t=s.match(/Chrome\/(\d+)/),t&&(n=+t[1]))),o.exports=n},7293:function(o){o.exports=function(i){try{return!!i()}catch{return!0}}},9974:function(o,i,e){var t=e(1702),n=e(9662),r=t(t.bind);o.exports=function(s,a){return n(s),a===void 0?s:r?r(s,a):function(){return s.apply(a,arguments)}}},6916:function(o){var i=Function.prototype.call;o.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(o,i,e){var t=e(9781),n=e(2597),r=Function.prototype,s=t&&Object.getOwnPropertyDescriptor,a=n(r,"name"),c=a&&function(){}.name==="something",l=a&&(!t||t&&s(r,"name").configurable);o.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},1702:function(o){var i=Function.prototype,e=i.bind,t=i.call,n=e&&e.bind(t);o.exports=e?function(r){return r&&n(t,r)}:function(r){return r&&function(){return t.apply(r,arguments)}}},5005:function(o,i,e){var t=e(7854),n=e(614),r=function(s){return n(s)?s:void 0};o.exports=function(s,a){return arguments.length<2?r(t[s]):t[s]&&t[s][a]}},8173:function(o,i,e){var t=e(9662);o.exports=function(n,r){var s=n[r];return s==null?void 0:t(s)}},7854:function(o,i,e){var t=function(n){return n&&n.Math==Math&&n};o.exports=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof e.g=="object"&&e.g)||function(){return this}()||Function("return this")()},2597:function(o,i,e){var t=e(1702),n=e(7908),r=t({}.hasOwnProperty);o.exports=Object.hasOwn||function(s,a){return r(n(s),a)}},3501:function(o){o.exports={}},4664:function(o,i,e){var t=e(9781),n=e(7293),r=e(317);o.exports=!t&&!n(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!=7})},8361:function(o,i,e){var t=e(7854),n=e(1702),r=e(7293),s=e(4326),a=t.Object,c=n("".split);o.exports=r(function(){return!a("z").propertyIsEnumerable(0)})?function(l){return s(l)=="String"?c(l,""):a(l)}:a},2788:function(o,i,e){var t=e(1702),n=e(614),r=e(5465),s=t(Function.toString);n(r.inspectSource)||(r.inspectSource=function(a){return s(a)}),o.exports=r.inspectSource},9909:function(o,i,e){var t,n,r,s=e(8536),a=e(7854),c=e(1702),l=e(111),d=e(8880),f=e(2597),h=e(5465),m=e(6200),g=e(3501),x="Object already initialized",_=a.TypeError,T=a.WeakMap,E=function(b){return r(b)?n(b):t(b,{})},B=function(b){return function(R){var M;if(!l(R)||(M=n(R)).type!==b)throw _("Incompatible receiver, "+b+" required");return M}};if(s||h.state){var k=h.state||(h.state=new T),N=c(k.get),C=c(k.has),V=c(k.set);t=function(b,R){if(C(k,b))throw new _(x);return R.facade=b,V(k,b,R),R},n=function(b){return N(k,b)||{}},r=function(b){return C(k,b)}}else{var F=m("state");g[F]=!0,t=function(b,R){if(f(b,F))throw new _(x);return R.facade=b,d(b,F,R),R},n=function(b){return f(b,F)?b[F]:{}},r=function(b){return f(b,F)}}o.exports={set:t,get:n,has:r,enforce:E,getterFor:B}},614:function(o){o.exports=function(i){return typeof i=="function"}},111:function(o,i,e){var t=e(614);o.exports=function(n){return typeof n=="object"?n!==null:t(n)}},1913:function(o){o.exports=!1},2190:function(o,i,e){var t=e(7854),n=e(5005),r=e(614),s=e(7976),a=e(3307),c=t.Object;o.exports=a?function(l){return typeof l=="symbol"}:function(l){var d=n("Symbol");return r(d)&&s(d.prototype,c(l))}},6244:function(o,i,e){var t=e(7466);o.exports=function(n){return t(n.length)}},133:function(o,i,e){var t=e(7392),n=e(7293);o.exports=!!Object.getOwnPropertySymbols&&!n(function(){var r=Symbol();return!String(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&t&&t<41})},8536:function(o,i,e){var t=e(7854),n=e(614),r=e(2788),s=t.WeakMap;o.exports=n(s)&&/native code/.test(r(s))},3070:function(o,i,e){var t=e(7854),n=e(9781),r=e(4664),s=e(9670),a=e(4948),c=t.TypeError,l=Object.defineProperty;i.f=n?l:function(d,f,h){if(s(d),f=a(f),s(h),r)try{return l(d,f,h)}catch{}if("get"in h||"set"in h)throw c("Accessors not supported");return"value"in h&&(d[f]=h.value),d}},9518:function(o,i,e){var t=e(7854),n=e(2597),r=e(614),s=e(7908),a=e(6200),c=e(9920),l=a("IE_PROTO"),d=t.Object,f=d.prototype;o.exports=c?d.getPrototypeOf:function(h){var m=s(h);if(n(m,l))return m[l];var g=m.constructor;return r(g)&&m instanceof g?g.prototype:m instanceof d?f:null}},7976:function(o,i,e){var t=e(1702);o.exports=t({}.isPrototypeOf)},7674:function(o,i,e){var t=e(1702),n=e(9670),r=e(6077);o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,a=!1,c={};try{s=t(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),s(c,[]),a=c instanceof Array}catch{}return function(l,d){return n(l),r(d),a?s(l,d):l.__proto__=d,l}}():void 0)},2140:function(o,i,e){var t=e(7854),n=e(6916),r=e(614),s=e(111),a=t.TypeError;o.exports=function(c,l){var d,f;if(l==="string"&&r(d=c.toString)&&!s(f=n(d,c))||r(d=c.valueOf)&&!s(f=n(d,c))||l!=="string"&&r(d=c.toString)&&!s(f=n(d,c)))return f;throw a("Can't convert object to primitive value")}},1320:function(o,i,e){var t=e(7854),n=e(614),r=e(2597),s=e(8880),a=e(3505),c=e(2788),l=e(9909),d=e(6530).CONFIGURABLE,f=l.get,h=l.enforce,m=String(String).split("String");(o.exports=function(g,x,_,T){var E,B=!!T&&!!T.unsafe,k=!!T&&!!T.enumerable,N=!!T&&!!T.noTargetGet,C=T&&T.name!==void 0?T.name:x;n(_)&&(String(C).slice(0,7)==="Symbol("&&(C="["+String(C).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!r(_,"name")||d&&_.name!==C)&&s(_,"name",C),E=h(_),E.source||(E.source=m.join(typeof C=="string"?C:""))),g!==t?(B?!N&&g[x]&&(k=!0):delete g[x],k?g[x]=_:s(g,x,_)):k?g[x]=_:a(x,_)})(Function.prototype,"toString",function(){return n(this)&&f(this).source||c(this)})},4488:function(o,i,e){var t=e(7854),n=t.TypeError;o.exports=function(r){if(r==null)throw n("Can't call method on "+r);return r}},3505:function(o,i,e){var t=e(7854),n=Object.defineProperty;o.exports=function(r,s){try{n(t,r,{value:s,configurable:!0,writable:!0})}catch{t[r]=s}return s}},6200:function(o,i,e){var t=e(2309),n=e(9711),r=t("keys");o.exports=function(s){return r[s]||(r[s]=n(s))}},5465:function(o,i,e){var t=e(7854),n=e(3505),r="__core-js_shared__",s=t[r]||n(r,{});o.exports=s},2309:function(o,i,e){var t=e(1913),n=e(5465);(o.exports=function(r,s){return n[r]||(n[r]=s!==void 0?s:{})})("versions",[]).push({version:"3.19.1",mode:t?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},9303:function(o){var i=Math.ceil,e=Math.floor;o.exports=function(t){var n=+t;return n!==n||n===0?0:(n>0?e:i)(n)}},7466:function(o,i,e){var t=e(9303),n=Math.min;o.exports=function(r){return r>0?n(t(r),9007199254740991):0}},7908:function(o,i,e){var t=e(7854),n=e(4488),r=t.Object;o.exports=function(s){return r(n(s))}},7593:function(o,i,e){var t=e(7854),n=e(6916),r=e(111),s=e(2190),a=e(8173),c=e(2140),l=e(5112),d=t.TypeError,f=l("toPrimitive");o.exports=function(h,m){if(!r(h)||s(h))return h;var g,x=a(h,f);if(x){if(m===void 0&&(m="default"),g=n(x,h,m),!r(g)||s(g))return g;throw d("Can't convert object to primitive value")}return m===void 0&&(m="number"),c(h,m)}},4948:function(o,i,e){var t=e(7593),n=e(2190);o.exports=function(r){var s=t(r,"string");return n(s)?s:s+""}},1694:function(o,i,e){var t=e(5112),n=t("toStringTag"),r={};r[n]="z",o.exports=String(r)==="[object z]"},6330:function(o,i,e){var t=e(7854),n=t.String;o.exports=function(r){try{return n(r)}catch{return"Object"}}},9711:function(o,i,e){var t=e(1702),n=0,r=Math.random(),s=t(1 .toString);o.exports=function(a){return"Symbol("+(a===void 0?"":a)+")_"+s(++n+r,36)}},3307:function(o,i,e){var t=e(133);o.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},5112:function(o,i,e){var t=e(7854),n=e(2309),r=e(2597),s=e(9711),a=e(133),c=e(3307),l=n("wks"),d=t.Symbol,f=d&&d.for,h=c?d:d&&d.withoutSetter||s;o.exports=function(m){if(!r(l,m)||!a&&typeof l[m]!="string"){var g="Symbol."+m;a&&r(d,m)?l[m]=d[m]:l[m]=c&&f?f(g):h(g)}return l[m]}},8675:function(o,i,e){var t=e(260),n=e(6244),r=e(9303),s=t.aTypedArray,a=t.exportTypedArrayMethod;a("at",function(c){var l=s(this),d=n(l),f=r(c),h=f>=0?f:d+f;return h<0||h>=d?void 0:l[h]})},1118:function(o,i,e){var t=e(260),n=e(9671).findLastIndex,r=t.aTypedArray,s=t.exportTypedArrayMethod;s("findLastIndex",function(a){return n(r(this),a,arguments.length>1?arguments[1]:void 0)})},7380:function(o,i,e){var t=e(260),n=e(9671).findLast,r=t.aTypedArray,s=t.exportTypedArrayMethod;s("findLast",function(a){return n(r(this),a,arguments.length>1?arguments[1]:void 0)})},3744:function(o,i){i.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n}},7203:function(o){o.exports=J}},D={};function A(o){var i=D[o];if(i!==void 0)return i.exports;var e=D[o]={exports:{}};return K[o](e,e.exports,A),e.exports}(function(){A.d=function(o,i){for(var e in i)A.o(i,e)&&!A.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:i[e]})}})(),function(){A.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){A.o=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)}}(),function(){A.p=""}();var H={};return function(){if(A.d(H,{default:function(){return Q}}),typeof window<"u"){var o=window.document.currentScript,i=o&&o.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(A.p=i[1])}var e=A(7203);const t={class:"text-center font-sans w-96 mx-auto rounded-lg shadow-lg border-solid border-2 p-8"},n=(0,e.createElementVNode)("h2",{class:"font-bold text-2xl"},"Record Audio Message",-1),r={class:"text-sm font-bold"},s={class:"text-sm"},a={class:"text-sm text-red-400"},c={class:"mt-8"},l=["src"],d=(0,e.createTextVNode)(" Your browser does not support the "),f=(0,e.createElementVNode)("code",null,"audio",-1),h=(0,e.createTextVNode)(" element. "),m=[d,f,h],g=(0,e.createElementVNode)("figcaption",{class:"text-sm mt-2"},"Listen to your recording before submitting.",-1);function x(y,u,w,p,v,S){const z=(0,e.resolveComponent)("icon-button"),O=(0,e.resolveComponent)("submit-button");return(0,e.openBlock)(),(0,e.createElementBlock)("div",t,[n,(0,e.createElementVNode)("div",null,[v.recording?((0,e.openBlock)(),(0,e.createBlock)(z,{key:0,style:(0,e.normalizeStyle)({"border-color":w.buttonColor}),class:(0,e.normalizeClass)(S.buttonClass),name:"stop",onClick:S.toggleRecording},null,8,["style","class","onClick"])):((0,e.openBlock)(),(0,e.createBlock)(z,{key:1,style:(0,e.normalizeStyle)({"border-color":w.buttonColor}),class:(0,e.normalizeClass)(S.buttonClass),name:"mic",onClick:S.toggleRecording},null,8,["style","class","onClick"]))]),(0,e.createElementVNode)("div",null,(0,e.toDisplayString)(S.recordedTime),1),(0,e.createElementVNode)("div",r,(0,e.toDisplayString)(v.successMessage),1),(0,e.createElementVNode)("div",s,(0,e.toDisplayString)(v.instructionMessage),1),(0,e.createElementVNode)("div",a,(0,e.toDisplayString)(v.errorMessage),1),(0,e.createElementVNode)("figure",c,[(0,e.createElementVNode)("audio",{controls:"",src:v.recordedAudio,type:"audio/mpeg",class:"mx-auto"},m,8,l),g]),(0,e.createVNode)(O,{onSubmit:S.sendData,color:w.buttonColor},null,8,["onSubmit","color"])])}class _{constructor(u){this.backendEndpoint=u}async postBackend(u){try{return!!(await fetch(this.backendEndpoint,{method:"POST",body:u})).ok}catch{return!1}}}A(8675),A(7380),A(1118);function T(y){return y?new Date(1e3*y).toISOString().substr(14,5):null}var E=class{constructor(y){this.bufferSize=y.bufferSize||4096,this.sampleRate=y.sampleRate,this.samples=y.samples}finish(){this._joinSamples();const y=new ArrayBuffer(44+2*this.samples.length),u=new DataView(y);this._writeString(u,0,"RIFF"),u.setUint32(4,36+2*this.samples.length,!0),this._writeString(u,8,"WAVE"),this._writeString(u,12,"fmt "),u.setUint32(16,16,!0),u.setUint16(20,1,!0),u.setUint16(22,1,!0),u.setUint32(24,this.sampleRate,!0),u.setUint32(28,4*this.sampleRate,!0),u.setUint16(32,4,!0),u.setUint16(34,16,!0),this._writeString(u,36,"data"),u.setUint32(40,2*this.samples.length,!0),this._floatTo16BitPCM(u,44,this.samples);const w=new Blob([u],{type:"audio/wav"});return{id:Date.now(),blob:w,url:URL.createObjectURL(w)}}_floatTo16BitPCM(y,u,w){for(let p=0;p<w.length;p++,u+=2){const v=Math.max(-1,Math.min(1,w[p]));y.setInt16(u,v<0?32768*v:32767*v,!0)}}_joinSamples(){const y=this.samples.length*this.bufferSize,u=new Float64Array(y);let w=0;for(let p=0;p<this.samples.length;p++){const v=this.samples[p];u.set(v,w),w+=v.length}this.samples=u}_writeString(y,u,w){for(let p=0;p<w.length;p++)y.setUint8(u+p,w.charCodeAt(p))}};class B{constructor(u={}){this.beforeRecording=u.beforeRecording,this.pauseRecording=u.pauseRecording,this.afterRecording=u.afterRecording,this.micFailed=u.micFailed,this.encoderOptions={bitRate:u.bitRate,sampleRate:u.sampleRate},this.bufferSize=4096,this.records=[],this.isPause=!1,this.isRecording=!1,this.duration=0,this.volume=0,this.wavSamples=[],this._duration=0}start(){const u={video:!1,audio:{channelCount:1,echoCancellation:!1}};this.beforeRecording&&this.beforeRecording("start recording"),navigator.mediaDevices.getUserMedia(u).then(this._micCaptured.bind(this)).catch(this._micError.bind(this)),this.isPause=!1,this.isRecording=!0}stop(){this.stream.getTracks().forEach(p=>p.stop()),this.input.disconnect(),this.processor.disconnect(),this.context.close();let u=null;u=new E({bufferSize:this.bufferSize,sampleRate:this.encoderOptions.sampleRate,samples:this.wavSamples}).finish(),this.wavSamples=[],u.duration=T(this.duration),this.records.push(u),this._duration=0,this.duration=0,this.isPause=!1,this.isRecording=!1,this.afterRecording&&this.afterRecording(u)}pause(){this.stream.getTracks().forEach(u=>u.stop()),this.input.disconnect(),this.processor.disconnect(),this._duration=this.duration,this.isPause=!0,this.pauseRecording&&this.pauseRecording("pause recording")}recordList(){return this.records}lastRecord(){return this.records.slice(-1).pop()}_micCaptured(u){this.context=new(window.AudioContext||window.webkitAudioContext),this.duration=this._duration,this.input=this.context.createMediaStreamSource(u),this.processor=this.context.createScriptProcessor(this.bufferSize,1,1),this.stream=u,this.processor.onaudioprocess=w=>{const p=w.inputBuffer.getChannelData(0);let v=0;this.wavSamples.push(new Float32Array(p));for(let S=0;S<p.length;++S)v+=p[S]*p[S];this.duration=parseFloat(this._duration)+parseFloat(this.context.currentTime.toFixed(2)),this.volume=Math.sqrt(v/p.length).toFixed(2)},this.input.connect(this.processor),this.processor.connect(this.context.destination)}_micError(u){this.micFailed&&this.micFailed(u)}}const k=["innerHTML"];function N(y,u,w,p,v,S){return(0,e.openBlock)(),(0,e.createElementBlock)("div",{innerHTML:v.icons[w.name]},null,8,k)}var C={props:{name:{type:String}},data(){return{icons:{download:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"/><path fill="none" d="M0 0h24v24H0z"/></svg>',mic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/></svg>',stop:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M6 6h12v12H6z"/></svg>',volume:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'}}}},V=A(3744),b=(0,V.Z)(C,[["render",N]]);function R(y,u,w,p,v,S){return(0,e.openBlock)(),(0,e.createElementBlock)("button",{onClick:u[0]||(u[0]=(...z)=>S.clickButton&&S.clickButton(...z)),style:(0,e.normalizeStyle)({"background-color":w.color}),class:"p-3 mt-8 text-black rounded-md"}," Submit ",4)}var M={emits:["submit"],props:{color:{type:String}},methods:{clickButton(){this.$emit("submit")}}},Y=(0,V.Z)(M,[["render",R]]);const W="Click icon to start recording message.",G="Click icon again to stop recording.",$="Failed to use microphone. Please refresh and try again and permit the use of a microphone.",j="Successfully recorded message!",Z="Successfully submitted audio message! Thank you!",P="Error submitting audio message! Please try again later.";var q={name:"TapirWidget",props:{time:{type:Number,default:1},bitRate:{type:Number,default:128},sampleRate:{type:Number,default:44100},backendEndpoint:{type:String},buttonColor:{type:String,default:"green"},afterRecording:{type:Function},successfulUpload:{type:Function},failedUpload:{type:Function},customUpload:{type:Function,default:null}},components:{IconButton:b,SubmitButton:Y},data(){return{recording:!1,recordedAudio:null,recordedBlob:null,recorder:null,successMessage:null,errorMessage:null,instructionMessage:W}},computed:{buttonClass(){return"mx-auto h-14 w-14 fill-current text-black cursor-pointer rounded-50 border-2 m-4 p-2"},recordedTime(){var y,u;return this.time&&((y=this.recorder)==null?void 0:y.duration)>=60*this.time&&this.toggleRecording(),T((u=this.recorder)==null?void 0:u.duration)}},beforeUnmount(){this.recording&&this.stopRecorder()},methods:{toggleRecording(){this.recording=!this.recording,this.recording?this.initRecorder():this.stopRecording()},initRecorder(){this.recorder=new B({micFailed:this.micFailed,bitRate:this.bitRate,sampleRate:this.sampleRate}),this.recorder.start(),this.successMessage=null,this.errorMessage=null,this.instructionMessage=G,this.service=new _(this.backendEndpoint)},stopRecording(){this.recorder.stop();const y=this.recorder.recordList();this.recordedAudio=y[0].url,this.recordedBlob=y[0].blob,this.recordedAudio&&(this.successMessage=j,this.instructionMessage=null),this.afterRecording&&this.afterRecording()},async sendData(){if(!this.recordedBlob)return;let y=null;y=this.customUpload?await this.customUpload(this.recordedBlob):await this.service.postBackend(this.recordedBlob),y?(this.errorMessage=null,this.successMessage=Z,this.successfulUpload&&this.successfulUpload()):(this.successMessage=null,this.errorMessage=P,this.failedUpload&&this.failedUpload())},micFailed(){this.recording=!1,this.instructionMessage=W,this.errorMessage=$}}},X=(0,V.Z)(q,[["render",x]]),Q=X}(),H=H.default,H}()})})(Go);const qo=re;const Ko={components:{TapirWidget:qo},data(){return{hasAudio:!1,audio_src:"",blob_audio:this.$refs.audio!=""}},watch:{blob_audio(U,L){this.blob_audio=U}},methods:{approveOrder(){this.$refs.Loader.toggleLoader(),this.hasAudio=!0;const U=new FormData;U.append("file",this.$refs.audio.recordedBlob),Ho.post("/audio",U).then(L=>{this.$refs.Loader.toggleLoader(),this.hasAudio=!0,this.audio_src=L.data})},reSet(){this.hasAudio=!1,this.hasAudio=!1,this.audio_src=""}}},Zo={class:"flex items-center justify-center h-screen bg-red-lightest"},Xo={class:"flex flex-col"},Jo=I("div",{class:"overlay"},null,-1),Qo={class:"basis-1/2"},en=["src"],tn={class:"basis-1/2"};function on(U,L,J,K,D,A){const H=te("Loader"),o=te("tapir-widget");return ue(),ce("div",Zo,[ee(H,{ref:"Loader"},null,512),I("div",Xo,[Jo,I("div",Qo,[ne(I("audio",{src:D.audio_src,controls:"",autoplay:"true"},null,8,en),[[oe,D.hasAudio]]),ne(ee(o,{ref:"audio",backendEndpoint:"/audio",time:2,buttonColor:"white"},null,512),[[oe,!D.hasAudio]])]),I("div",tn,[I("button",{class:"border border-gray-light bg-white p-3 w-full rounded shadow-lg transition ease-in duration-300 my-3",onClick:L[0]||(L[0]=i=>D.hasAudio?A.reSet():A.approveOrder())},le(D.hasAudio?"Resend":"Submit"),1)])])])}const sn=Lo(Ko,[["render",on]]);export{sn as default};
